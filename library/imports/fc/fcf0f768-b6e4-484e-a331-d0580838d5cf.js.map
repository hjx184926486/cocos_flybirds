{"version":3,"sources":["../../../../../assets/Script/Utils/assets/Script/Utils/HttpUtil.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/Utils","sourcesContent":["\n\nexport  class HttpUtil{\n    public static URL =  \"https://zk.againfly.com/emoji/jx/bird/\";\n\n    public static get(url,params, callback){\n        let dataStr = ''; \n\t\tObject.keys(params).forEach(key => {\n\t\t\tdataStr += key + '=' + params[key] + '&';\n\t\t})\n\t\tif (dataStr !== '') {\n\t\t\tdataStr = dataStr.substr(0, dataStr.lastIndexOf('&'));\n\t\t\turl = url + '?' + dataStr;\n        }\n        url = HttpUtil.URL + url;\n        let xhr = cc.loader.getXMLHttpRequest();\n        xhr.open(\"GET\", url, true);\n        xhr.setRequestHeader(\"Content-Type\",\"text/plain;charset=UTF-8\");  \n        xhr.onreadystatechange = function () {\n            if (xhr.readyState === 4) {\n                let response = xhr.responseText;\n                if (xhr.status >= 200 && xhr.status < 300) {\n                    let httpStatus = xhr.statusText;\n                    callback(true, JSON.parse(response));\n                }else{\n                    callback(false, response);\n                }\n            }\n        };\n        xhr.send();\n    }\n    //Postè¯·æ±‚\n    public static post(url,param: any = {},callback){\n        url = HttpUtil.URL + url;\n        var xhr = cc.loader.getXMLHttpRequest();  \n        let dataStr = ''; \n        Object.keys(param).forEach(key => {\n            dataStr += key + '=' + param[key] + '&';\n        })\n        if (dataStr !== '') {\n            dataStr = dataStr.substr(0, dataStr.lastIndexOf('&'));\n        }\n        xhr.open(\"POST\", url, true);\n        xhr.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");  \n        xhr.onreadystatechange = function () {  \n            if (xhr.readyState === 4) {\n                let response = xhr.responseText;\n                if (xhr.status >= 200 && xhr.status < 300) {\n                    let httpStatus = xhr.statusText;\n                    callback(true, JSON.parse(response));\n                }else{\n                    callback(false, response);\n                }\n            }\n        };\n        xhr.send(dataStr);  \n    }\n}\n  "]}