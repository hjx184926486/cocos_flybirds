{"version":3,"sources":["HeroItem.ts"],"names":[],"mappings":";;;;;AAAA,yCAAwC;AAIlC,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAA+B,4BAAY;IAD3C;QAAA,qEAmEC;QA/DW,cAAQ,GAAY,IAAI,CAAC;QAGzB,cAAQ,GAAa,IAAI,CAAC;QAG1B,cAAQ,GAAa,IAAI,CAAC;QAG1B,WAAK,GAAW,GAAG,CAAC;QACpB,YAAM,GAAU,GAAG,CAAC;;QAoD5B,iBAAiB;IACrB,CAAC;IApDG,gBAAgB;IAEhB,wBAAK,GAAL;QACI,eAAe;IACnB,CAAC;IACM,2BAAQ,GAAf,UAAgB,QAAQ,EAAC,GAAG;QACxB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAC,UAAC,KAAyB;YACjE,QAAQ,CAAC,IAAI,CAAE,GAAG,CAAE,CAAA;QACxB,CAAC,CAAC,CAAA;IACN,CAAC;IACD,4BAAS,GAAT;QACI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YACb,OAAM;SACT;QACD,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAE,qBAAS,CAAE,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACpG,CAAC;IACM,6BAAU,GAAjB,UAAkB,cAAyB;QAAzB,+BAAA,EAAA,kBAAyB;QACvC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC;QAChD,IAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;QAClC,QAAQ,CAAC,OAAO,CAAE,UAAC,GAAG,EAAC,GAAG;YACtB,GAAG,CAAC,MAAM,GAAG,cAAc,CAAC;YAC5B,GAAG,CAAC,MAAM,GAAG,cAAc,CAAC;QAChC,CAAC,CAAC,CAAA;IACN,CAAC;IACD,sBAAW,0BAAI;aAAf,UAAgB,GAAG;YACf,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACjB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAEvB,CAAC;;;OAAA;IACO,2BAAQ,GAAhB,UAAiB,IAAI;QAArB,iBAoBC;QAnBI,IAAI,IAAI,EAAC;YACL,IAAI,IAAI,CAAC,IAAI,EAAC;gBACV,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC;gBAClC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,sBAAsB,EAAE,EAAE,CAAC,WAAW,EAAC,UAAC,GAAG,EAAE,WAAW;oBACxE,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,GAAG,WAAW,CAAC;gBACxE,CAAC,CAAC,CAAC;aACL;iBAAI;gBACF,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,KAAK,CAAC;aACrC;YACF,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;YACjC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAE,IAAI,CAAC,MAAM,EAAC,EAAE,CAAC,WAAW,EAAC,UAAC,GAAG,EAAC,WAAW;gBAC1D,IAAI,GAAG,IAAI,IAAI,EAAE;oBACb,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;oBACzB,OAAO;iBACV;gBACD,KAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,WAAW,CAAC;YAC5C,CAAC,CAAC,CAAA;SAEJ;IACN,CAAC;IA7DD;QADC,QAAQ,CAAE,EAAE,CAAC,KAAK,CAAC;8CACa;IAGjC;QADC,QAAQ,CAAE,EAAE,CAAC,MAAM,CAAC;8CACa;IAGlC;QADC,QAAQ,CAAE,EAAE,CAAC,MAAM,CAAC;8CACa;IATxB,QAAQ;QADrB,OAAO;OACM,QAAQ,CAkErB;IAAD,eAAC;CAlED,AAkEC,CAlE8B,EAAE,CAAC,SAAS,GAkE1C;AAlEa,4BAAQ","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["import { MainScene } from \"./MainScene\";\nimport { User } from \"./User\";\n\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport  class HeroItem extends cc.Component {\n\n    @property( cc.Label)\n    private name_txt:cc.Label = null;\n\n    @property( cc.Sprite)\n    private hero_img:cc.Sprite = null;\n\n    @property( cc.Button)\n    private play_btn:cc.Button = null;\n\n    private _data:any;\n    private width :number = 150;\n    private height:number = 180;\n    // onLoad () {} \n\n    start () {\n        // this.init();\n    }\n    public setClick(callBack,ctx){\n        this.node.on(cc.Node.EventType.TOUCH_START,(event:cc.Event.EventTouch)=>{\n            callBack.call( ctx )\n        })\n    }\n    itemClick(){    \n        if( !this._data ){\n            return\n        }\n        cc.director.getScene().getChildByName(\"Canvas\").getComponent( MainScene ).startGame(this._data);\n    }\n    public changeSize(sizePercentage:number = 1){\n        this.node.width = this.width * sizePercentage;\n        this.node.height = this.height * sizePercentage;\n        let childRen = this.node.children;\n        childRen.forEach( (val,idx)=>{\n            val.scaleX = sizePercentage;\n            val.scaleY = sizePercentage;\n        })\n    }\n    public set data(val){\n        this._data = val;\n        this.updateUI(val);\n        \n    }\n    private updateUI(data) {\n         if( data){\n             if( data.have){\n                 this.play_btn.interactable = true;\n                 cc.loader.loadRes('sprite/play_item.png' ,cc.SpriteFrame,(err, spriteFrame)=> {\n                   this.play_btn.node.getComponent(cc.Sprite).spriteFrame = spriteFrame;\n                });\n             }else{\n                this.play_btn.interactable = false;\n             }\n            this.name_txt.string = data.name;\n            cc.loader.loadRes( data.imgUrl,cc.SpriteFrame,(err,spriteFrame)=>{\n                if (err != null) {\n                    console.log(err.message);\n                    return;\n                }\n                this.hero_img.spriteFrame = spriteFrame;\n            })\n            \n         }\n    }\n    // update (dt) {}\n}\n"]}