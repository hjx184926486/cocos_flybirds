{"version":3,"sources":["MainScene.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["const {ccclass, property} = cc._decorator;\n\nimport {GameConfig}  from './GameConfig';\nimport {OverView}  from './OverView';\nimport { SubDomController } from './SubDomController';\nimport { GameManager } from './GameManager';\nimport { EnermyGroup } from './EnermyGroup';\nimport { Hero } from './Hero';\nimport { User } from \"./User\"\nconst wx = window[\"wx\"];\nexport enum GAME_TYPE{\n    DOWN=0,\n    UP = 1\n}\n\n@ccclass\nexport  class MainScene extends cc.Component {\n    @property(cc.Node)\n    private enermy_team:cc.Node = null\n\n    @property(cc.Node)\n    public hero:cc.Node = null\n\n    @property( cc.Prefab )\n    private enermy_group:cc.Prefab = null;\n\n    @property(cc.Label)\n    private scoreTxt:cc.Label = null;\n\n    @property(cc.Label)\n    private coinTxt:cc.Label = null;\n\n    @property( cc.Node)\n    private pause_view:cc.Node = null;\n\n    @property(cc.Node)\n    private start_view:cc.Node = null;\n\n    @property(cc.Node)\n    private game_view:cc.Node = null;\n\n    @property(cc.Node)\n    private over_view:cc.Node = null;\n\n    @property( cc.Node)\n    private bg1:cc.Node = null;\n\n    @property( cc.Node)\n    private bg2:cc.Node = null;\n\n    private heroFirstY:number;  //英雄初始y坐标\n    private windowSize:any;\n\n    private score :number = 0;\n    private coinNum :number = 0;\n    private bestScore:number = 0;\n    private enermyArr:Array<cc.Node> = [];\n    onLoad(){\n        this.initEvent();\n        this.initConfig();\n        this.shareRightTop();\n        \n    }\n\n    count:number  = 0;\n\n    update(dt){\n        \n        this.count++;\n        if(this.count == 150){\n            this.count  = 0;\n            this.createEnermy(this.hero.x);\n            this.addScore();\n        } \n        this.creatBg();\n    }\n\n    start () {\n        this.initCollision();\n        // init logic9\n       User.I.setUserData({\n        \"openId\":\"\",\n        \"coin\":\"\",\n        \"skinData\":[\n            {\n            \"name\":\"大崽儿\",\n            \"id\":\"0\",\n            \"imgUrl\":\"sprite/hero/hero1\",\n            \"coinNum\":\"100\",\n            \"howGet\":\"默认皮肤\",\n            \"dis\":\"0\",\n            \"skill\":\"\",\n            \"relifeNum\":0,\n            \"skillNum\":\"\",\n            \"have\":false\n            },\n            {\n            \"name\":\"二崽儿\",\n            \"id\":\"1\",\n            \"imgUrl\":\"sprite/hero/hero2\",\n            \"coinNum\":\"300\",\n            \"howGet\":\"400金币购买并且句跑分超过200\",\n            \"dis\":\"200\",\n            \"skill\":\"单句允许复活两次，每天只能用五次\",\n            \"relifeNum\":2,\n            \"skillNum\":\"5\",\n            \"have\":true\n            },\n            {\n            \"name\":\"三崽儿\",\n            \"id\":\"2\",\n            \"imgUrl\":\"sprite/hero/hero3\",\n            \"coinNum\":\"200\",\n            \"howGet\":\"200金币购买并且单句跑分超过200\",\n            \"dis\":\"200\",\n            \"skill\":\"单句复活两次，每天只能用二次\",\n            \"relifeNum\":2,\n            \"skillNum\":\"2\",\n            \"have\":true\n            },\n            {\n            \"name\":\"四崽儿\",\n            \"id\":\"4\",\n            \"imgUrl\":\"sprite/hero/hero4\",\n            \"coinNum\":\"100\",\n            \"howGet\":\"100金币并且单句跑分超过500\",\n            \"dis\":\"500\",\n            \"skill\":\"单句免费复活一次,无限使用\",\n            \"relifeNum\":1,\n            \"skillNum\":\"\",\n            \"have\":true\n            },\n            {\n            \"name\":\"五崽儿\",\n            \"id\":\"5\",\n            \"imgUrl\":\"sprite/hero/hero5\",\n            \"coinNum\":\"200\",\n            \"howGet\":\"200金币购买\",\n            \"dis\":\"0\",\n            \"skill\":\"吃到前10个金币翻倍\",\n            \"relifeNum\":0,\n            \"skillNum\":\"\",\n            \"have\":true\n            },\n            {\n            \"name\":\"六崽儿\",\n            \"id\":\"6\",\n            \"imgUrl\":\"sprite/hero/hero6\",\n            \"coinNum\":\"0\",\n            \"howGet\":\"反重力模式下单句超过400分自动获得\",\n            \"dis\":\"0\",\n            \"skill\":\"单句复活三次，每天只能用一次\",\n            \"relifeNum\":3,\n            \"skillNum\":\"1\",\n            \"have\":true\n            },\n            {\n            \"name\":\"七崽儿\",\n            \"id\":\"7\",\n            \"imgUrl\":\"sprite/hero/hero7\",\n            \"coinNum\":\"0\",\n            \"howGet\":\"活动获得\",\n            \"dis\":\"0\",\n            \"skill\":\"\",\n            \"skillNum\":\"\",\n            \"relifeNum\":0,\n            \"have\":true\n            }]\n        })\n\n        \n    }\n    // 开启碰撞检测\n    private initCollision(){\n        let manager = cc.director.getCollisionManager();\n        manager.enabled = true;\n        manager.enabledDebugDraw = false;\n        \n    }\n    private initEvent(){\n        this.node.on(cc.Node.EventType.TOUCH_START,(event:cc.Event.EventTouch)=>{\n            this.hero.getComponent(Hero).jump();\n        })\n    }\n  \n    private initConfig(){\n        this.windowSize = cc.view.getVisibleSize();\n    }\n   \n    // 随机生成障碍物加金币\n    private createEnermy(x){\n        if( !GameManager.I.gameFlag  ){\n            return\n        }\n        let enermy_group:cc.Node = cc.instantiate( this.enermy_group);\n        enermy_group.x = x+800;\n        enermy_group.y = 0;  \n        enermy_group.getComponent(EnermyGroup).changeEnermy();\n        this.enermy_team.addChild( enermy_group );\n        this.enermyArr.push(enermy_group);\n        if( this.enermyArr.length > 5 ){\n            this.enermyArr.shift().destroy();\n        }\n    }\n\n    // 创建图片\n    private creatBg(){\n        if( !GameManager.I.gameFlag  ){\n            return\n        }\n        if(  this.hero.x % 1280 == 0 && this.hero.x > 0 ){\n            \n            let i = this.hero.x / 1280\n            if( i % 2 == 0  ){\n                this.bg2.x = (i+1)  * 1280\n                console.log( \"第2个背景位移\" )\n            }else{\n                this.bg1.x = (i+1) * 1280\n                console.log( \"第一个背景位移 \"+\"  \" )\n            }\n        }\n    }\n\n    // 获得100～500中的随机数\n    private getRandomNum(){\n        return Math.ceil(Math.random()*5);\n    }\n    // 增加成绩\n    private addScore(){\n        if( !GameManager.I.gameFlag  )\n            return\n\n        this.score += 10;\n\n        this.scoreTxt.string = `距离:${this.score }`;\n    }\n    // 游戏结束\n    public gameOver(){\n        GameManager.I.gameFlag = false;\n        SubDomController.getUserScore( (res)=>{\n            let scoreBest;\n            let allCoin;\n            res.forEach( (val,idx)=>{\n                if( val[\"key\"] == \"score\" ){\n                    scoreBest = val[\"value\"]\n                }\n            } )\n            // if( !scoreBest || this.score > scoreBest ){\n            //     //cc.sys.localStorage.setItem(\"BEST_SCORE\", this.score)\n            //     scoreBest = this.score;\n            //     wx.setUserCloudStorage({\n            //         KVDataList: [{ key: \"score\", value: \"\" + scoreBest }],\n            //         success: res => { console.log(\"设置开放成功\", res); },\n            //         fail: res => { console.error(\"设置开放域失败\", res) },\n            //         complete: res => { }\n            //     })\n            // }\n            \n            SubDomController.getFriendInfo( (res)=>{\n                this.over_view.getComponent(OverView).setRankData(res);\n                this.over_view.getComponent(OverView).setScore({coin:this.coinNum,score:this.score,best_score:scoreBest});\n                this.over_view.active = true;\n                this.game_view.active = false;\n                this.resetGame();\n                this.pauseBgMusic();\n\n            })\n        } )\n        \n        \n    }\n    // 根据分数去调整速度\n    private addSpead(){\n        if(  this.score % 20 == 0 ){\n            //this.nowSpeed += GameConfig.ADD_SPEED;\n        }\n        \n    }\n    //开始游戏\n    public startGame(data){\n        this.hero.getComponent(Hero).setData(data);\n\n        GameManager.I.gameFlag = true;\n        this.playBgMusic();\n        this.start_view.active = false;\n        this.game_view.active = true;\n    }\n    //继续游戏\n    public continueGame(){\n        GameManager.I.gameFlag = true;\n        this.playBgMusic();\n        this.pause_view.active = false;\n    }\n    //重新开始游戏\n    private againGame(){\n        this.over_view.active = false;\n        this.game_view.active = true;\n        this.playBgMusic();\n        GameManager.I.gameFlag = true; \n    }\n    //暂停游戏\n    private pauseGame(){\n        GameManager.I.gameFlag = false;\n        this.pauseBgMusic();\n        this.pause_view.active = true;\n    }    \n    private setSpriteBg( node:cc.Node,resUrl ){\n        cc.loader.loadRes( resUrl,cc.SpriteFrame,(err,spriteFrame)=>{\n            if (err != null) {\n                console.log(err.message);\n                return;\n            }\n            node.getComponent(cc.Sprite).spriteFrame = spriteFrame\n        })\n\n\n    }\n    //播放背景音乐\n    private playBgMusic(){\n        this.node.getComponent(cc.AudioSource).play();\n    }\n    // 关闭背景音乐\n    private pauseBgMusic(){\n        this.node.getComponent(cc.AudioSource).pause();\n    }\n    private changeVolume(x){\n        this.node.getComponent(cc.AudioSource).volume = x || 0.5;\n    }\n    // 吃到金币\n    public getCoin(node){\n        this.coinNum++;\n        this.coinTxt.string = `金币:${this.coinNum}`\n        node.destroy();\n    }\n    private setGameType(e,data){\n        switch( +data ){\n            case GAME_TYPE.UP:\n                GameManager.I.gameType = GAME_TYPE.UP\n                break;\n            case GAME_TYPE.DOWN:\n                GameManager.I.gameType = GAME_TYPE.DOWN\n        }\n    }\n    // 重置游戏\n    private resetGame(){\n        this.score = 0;\n        this.coinNum = 0;\n        this.scoreTxt.string = `分数:${this.score}分`;\n        this.enermy_team.children.forEach( (val)=>{\n            val.destroy();\n        })\n        this.hero.getComponent(Hero).reset();\n    }\n    // 返回主界面\n    private backStartView(){\n        this.over_view.active = false;\n        this.start_view.active = true;\n    }\n    shareLife(){\n        wx.shareAppMessage({\n            title: '体验过飞的感觉吗',\n            imageUrl:\"http://oss.againfly.com/game/share_battle.png\",\n            query:\"type=relay\"\n        })\n    }\n    shareRightTop(){\n        if(cc.sys.platform !== cc.sys.WECHAT_GAME) return;\n        wx.showShareMenu() \n    }\n}\n"]}